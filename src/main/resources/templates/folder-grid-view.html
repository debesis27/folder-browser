<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta data -->
  <meta charset="UTF-8">
  <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
  <meta content="" name="description">
  <meta content="" name="author">
  <meta name="keywords" content="" />
  <title>Folder Structure</title>

  <link rel="stylesheet" th:href="@{/css/records.css}" type="text/css" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">

</head>

<body class="app sidebar-mini dark-left-menu sidenav-toggled">
  <div id="mainContainer" class="col-md">
    <div class="card-body">
      <div id="viewgridproject" class="tab-pane fade active show p-0">

        <!-- Back Button -->
        <div class="row mb-5">
          <div class="col-md-9">
            <button class="back" th:onclick="'goBack()'">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>arrow-left</title><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </button>
          </div>
        </div>

        <!-- Breadcrumb -->
        <div id="breadcrumbs"></div>

        <!-- Folder Structure -->
        <div class="stage">
          <div th:replace="::folder(fragment='folder', folder=${rootFolder}, isRoot='true')"></div>
        </div>
        <!-- .stage -->
      </div>
    </div>
  </div>

  <!-- Folder Fragment -->
  <th:block th:fragment="folder (folder)">
    <div class="folder-and-subfolders-div" th:if="${folder != null}">
      <div th:class="${isRoot} == 'true' ? 'root-folder tile folder-div' : 'tile folder-div'" th:onclick="'openFolder(this)'">
        <a href="javascript:void(0);">
          <img th:src="@{/images/file-extensions/folder.svg}" alt="Folder Icon" />
          <h3 th:text="${folder.name != null ? folder.name : 'Unnamed Folder'}"></h3>
        </a>
      </div>
      <div class="subfolders-div collapse folder-wrap level-current" th:if="${folder.subFolders != null}">
        <div class="subfolder-iter" th:each="subFolder : ${folder.subFolders}">
          <div th:replace="::folder(fragment='folder', folder=${subFolder}, isRoot='false')"></div>
        </div>
        <div th:each="file : ${folder.files}" class="tile subfolder-iter file-iter" th:if="folder.files != null">
          <a th:href="${file.url}" target="_blank">
            <div>
              <h3 th:text="${file.name}" th:onload="'addFileImage(this)'"></h3>
            </div>
          </a>
        </div>
      </div>
    </div>
  </th:block>

  <!--===============================================================================================================================-->
  <!-- Back to top -->
  <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
  <script th:src="@{/js/records.js}"></script>
  <script th:src="@{/js/script.js}"></script>
</body>

</html>
